# #1~#10

## AWS Config
- Configはタグ付けと標準ルールの設定、コンプライアンスのチェック、違反のフラグ付に役立つ

## AWS Inspector
- 自動化されたセキュリティ評価サービスでありAWSにデプロイしたアプリケーションのセキュリティとコンプライアンスを向上させるためのサービス


## Elastic BeanStalk x BlueGreen
- ブルーグリーンデプロイをを実行することでダウンタイムを回避することが可能
- この場合個別に2つの環境をデプロイしてから2つの環境のCNAMEを入れ替えてからすぐに新しいバージョンにトラフィックをリダイレクトする

## ログデータの検索及びフィルタリング
- 各インスタンスでCloudWatch logsエージェントを使用してログを主役することが可能
- メトリフィクスフィルターを定義し、閾値を超過した場合SNSを通じて通知を行うことが可能

- 新しいカスタムメトリクスを容易することは開発工数がかかるため、最適な手段ではない

## kibanaへのアクセスコントロール
- kibanaのアクセス制御のオプションとして「kibanaのAmazon Cognito認証」「プロキシサーバーのある、またはないIPベースのアクセスポリシー設定」がある

### プロキシを使用したkibanaからAmaazon ElasticSerach Serviceへのアクセス
- kibanaはjavascriptアプリケーションであるため、リクエストの送信元はIPアドレスになる。
- IPベースのアクセスコントロールは膨大な数のIPアドレスから制限を行うため現実的とは言えない
- 1つの回避策としてkibanaとESの間にプロキシサーバーを配置すること、これによりIPベースのアクセスポリシーを追加し唯一のIPアドレス(プロキシのIPから)のリクエストを許可できる

※kibanaはOSSのJSアプリケーション、今回の場合EC2にホストしていると理解

## Code Pipeline シーケンス
- テストと手動承認のタイミングに気をつける

### Guard Duty セキュリティ情報の集約
- セキュリティ情報を集約するにはGuardDutyをメンバーアカウントごとに有効化する必要がある

- GuardDutyではセキュリティ脅威の検出が可能である。セキュリティアカウントは監視者アカウントとして機能し他のアカウントを招待する
- メンバーアカウントではGuardDutyを有効化し、招待を受け入れる必要がある

## lamnbdaによるRDSのスナップショット、コピー、復元
- LambdaはRDSのスナップショット、コピー、復元に仕様できる。またRDSのイベント通知を使用して可用性とバックあっぷを追跡できる
- 

- ソリューションとしてセキュリティアカウントにcloudWatchルールを作成して全ての検出結果をKinesis data FIreforseに送信し検出結果をs3バケットへ

## AWS Healthを使用したアクセスキーの検知
- AWS HealthによるAWS_RISK_CREDENTIALS_EXPOSEDイベントを使用してCloudWatchイベントルールを作成し、その送信元をStepFunctionsのアクセスキー削除関数へ

## Cloudfrontによる動的なコンテンツ配信(データ格納場所の特定)
- 複数のリージョンへデプロイするとデータ格納場所を特定できない
- Cloudfrontに関して
  - ELBやEC2にて動的なコンテンツを配信している場合はCloudfrontを通じてコンテンツ配信ネットワークとして利用し、コンテンツのパフォーマンス、可用性、セキュリティをあげることが可能
 
## 別のリージョンへのフェイルオーバー
- バックアップリージョンへのAMIのコピーを自動化する必要がある...AMIは頻繁に更新されるため
- 通常時はインスタンスが実行されないように最大サイズを0に設定
- LambdaはAMIを使用して起動設定を作成しautoScalingGroupへ関連づけインスタンス数を増やしRoute53にてバックアアップリージョンのロードバランサーの指すようにする

