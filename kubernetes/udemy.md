# Kubernetes学習

## 基本用語

### ノード
- ノードとはkubernetesがインストールされている物理または仮想マシンのことを指す
- ノードはワーカマシンのことでkubernetesによってコンテナが起動される場所
- 障害児のための複数のノードを用意する必要がある。ノードのグループのことをクラスターという
  - 上記により一つのノードで障害がは発生した場合にも、他のノードからアプリケーションにアクセスすることができる
  - また複数のノードを持つことで負荷分散も可能

### マスター
- マスターはkubernetesが実行されている別のノードでマスターとして設定される
- マスターはクラスター内のノードを監視しワーカーノード上のコンテナの実際のオーケストレーションを担当
- マスターサーバーにはKube APIサーバーがあり、それがマスターであることを意味する
- 反対にワーカーにはマスターと対話する役割を担うkubeletエージェントがある
  - 収集した情報はマスターのキーバリューストアへ保存

### コンポーネント
- kubernetesをインストールする際以下コンポーネントをインストールすることになる
  - API Server
  - ectd
  - kubelet
  - Container Runtime
  - Controller
  - Scheduler

#### ectd
- Kubernetesがクラスタ管理に使用する全てのデータを格納するためのキーバリューストア

#### scheduler
- 　複数のノードに作業やコンテナを分散させる役割を持つ

#### Controller
- ノードやコンテナ、エンドポイントがダウンした時、俺に気づいて対応する役割を持つ

#### kubelet
- コンテナがノード上で実行されているかを確認する役割を担っている

### kubectl
- kubernetesクラスタ上のアプリケーションをデプロイし管理するために使用される

#### `kubectl run`
- アプリケーションをクラスタ上にデプロイ

#### `kubectl cluster info`
- クラスタの情報を開示

#### `kubectl get nodes`
- クラスタに属する全てのノードをリストアップする
