# Dockerの基礎とDockerfileの書き方について

## dockerfileについて
- dockerfileはドッカーイメージを作成するためのイメージファイル
- dockerfileには基本となるOS、インストールするソフトウェア、コピーするファイル・ディレクトリ、開くポート、実行するコマンドなど新しいイメージを作成するための必要な指示が含まれる
- dockerfileの書き方としては「FROM」,「RUN」,「CMD」などのインストラクションに引数を記述し、作成する

<img width="708" alt="スクリーンショット 2024-01-03 17 17 38" src="https://github.com/hrk-sgymm23/TIL/assets/78539910/e5cb4a70-0c82-4faf-ba66-105ccf49c479">

## 各インストラクションについて
### `FROM`
- 新たに作成するDockerイメージのベースとなるイメージを指定する

```Dockerfile
# 書式：　FROM [イメージ] [タグ]
$ FROM　ubuntu:22.10
```

### `RUN`
- `RUN`はDockerイメージのビルドの際にシェルコマンドを実行する
```Dockerfile
# 書式：　RUN [コマンド] 
$ RUN apt update \
    && apt install -y apache2
```
- `RUN`は実行ごとに新しいレイヤーを作成しての上でコマンドを実行するため、多くの`RUN`を持つファイルは多くのレイヤーからなるイメージを作成し、イメージのサイズが大きくなる
- しかしレイヤ数が多くなるとPCの容量が多くなり圧迫されたり、イメージのビルドに時間がかかるため、レイヤ数は最小にすることが望ましい
- このため複数コマンドを実行する際は`&&` でつなぎ`\`で改行を入れることが望ましい


- 
